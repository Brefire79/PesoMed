<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#0b1b2b" />
  <meta name="description" content="DoseCheck: PWA offline-first para monitorar aplica√ß√µes, peso e medidas corporais." />

  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./icons/icon-192.svg" type="image/svg+xml" />

  <title>DoseCheck</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <a class="skip-link" href="#main">Pular para conte√∫do</a>

  <header class="app-header" role="banner">
    <div class="app-header__left">
      <div class="brand" aria-label="DoseCheck">
        <span class="brand__mark" aria-hidden="true">DC</span>
        <div class="brand__text">
          <div class="brand__name">DoseCheck</div>
          <div class="brand__tag">offline-first ‚Ä¢ semana a semana</div>
        </div>
      </div>
    </div>

    <div class="app-header__right">
      <button id="btnInstall" class="btn btn--ghost" type="button" hidden>
        Instalar
      </button>
      <button id="btnOpenMenu" class="btn btn--ghost" type="button" aria-haspopup="dialog" aria-controls="menuDialog">
        Menu
      </button>
    </div>
  </header>

  <main id="main" class="app" role="main">
    <section id="bannerReminder" class="banner" hidden aria-live="polite"></section>
    <section id="bannerUpdate" class="banner banner--info" hidden aria-live="polite">
      <div class="banner__row">
        <div class="banner__text" id="bannerUpdateText">Atualiza√ß√£o dispon√≠vel.</div>
        <div class="banner__actions">
          <button id="btnUpdateNow" class="btn btn--secondary" type="button">Atualizar</button>
          <button id="btnUpdateLater" class="btn btn--ghost" type="button">Depois</button>
        </div>
      </div>
    </section>

    <nav class="tabs" aria-label="Navega√ß√£o principal">
      <a class="tab" href="#/dashboard" id="tabDashboard">Dashboard</a>
      <a class="tab" href="#/injections" id="tabInjections">Aplica√ß√µes</a>
      <a class="tab" href="#/body" id="tabBody">Peso & Medidas</a>
      <a class="tab" href="#/insights" id="tabInsights">Insights IA</a>
      <a class="tab" href="#/report" id="tabReport">Relat√≥rio</a>
      <a class="tab" href="#/settings" id="tabSettings">Config</a>
    </nav>

    <section id="viewDashboard" class="view" aria-labelledby="hDashboard">
      <h1 id="hDashboard" class="view__title">Dashboard</h1>

      <div class="grid">
        <article class="card" id="cardNextInjection" aria-label="Pr√≥xima aplica√ß√£o">
          <h2 class="card__title">Pr√≥xima aplica√ß√£o</h2>
          <div class="stat">
            <div class="stat__value" id="nextInjectionValue">‚Äî</div>
            <div class="stat__sub" id="nextInjectionSub">Configure seu lembrete ou registre uma aplica√ß√£o.</div>
          </div>
          <div class="row">
            <button class="btn" id="btnQuickAddInjectionDashboard" type="button" data-action="quickAddInjection">+ Aplicar agora</button>
          </div>
        </article>

        <article class="card" aria-label="Peso e varia√ß√£o">
          <h2 class="card__title">√öltimo peso</h2>
          <div class="stat">
            <div class="stat__value" id="lastWeightValue">‚Äî</div>
            <div class="stat__sub" id="lastWeightSub">Sem registros ainda.</div>
          </div>
          <div class="pillset" aria-label="Varia√ß√µes">
            <span class="pill" id="delta7">7d: ‚Äî</span>
            <span class="pill" id="delta14">14d: ‚Äî</span>
            <span class="pill" id="delta30">30d: ‚Äî</span>
          </div>
          <div class="row">
            <button class="btn" id="btnQuickAddWeightDashboard" type="button" data-action="quickAddWeight">+ Pesar</button>
            <button class="btn btn--secondary" id="btnQuickAddMeasuresDashboard" type="button" data-action="quickAddMeasures">+ Medir</button>
          </div>
        </article>
      </div>
    </section>

    <section id="viewInjections" class="view" aria-labelledby="hInjections" hidden>
          <div class="card__head">
            <h2 class="card__title">Checklist de hoje</h2>
            <span id="checklistTodayBadge" class="chip" aria-live="polite">‚Äî</span>
          </div>
          <p class="muted" id="checklistTodayMeta">Baseado na sua agenda fixa.</p>
          <div id="checklistTodayAlerts" class="banner" hidden aria-live="polite"></div>
          <div id="checklistTodayList" class="list" role="list"></div>
          <div class="row">
            <button class="btn" id="btnQuickAddWeightChecklist" type="button" data-action="quickAddWeight">+ Pesar</button>
            <button class="btn" id="btnQuickAddInjectionChecklist" type="button" data-action="quickAddInjection">+ Aplicar</button>
          </div>
        </article>

        <article class="card" aria-label="Consist√™ncia e streak">
          <div class="card__head">
            <h2 class="card__title">Consist√™ncia da semana</h2>
            <span id="weeklyConsistencyBadge" class="chip" aria-live="polite">‚Äî</span>
          </div>
          <div class="stat">
            <div class="stat__value" id="weeklyConsistencyValue">‚Äî</div>
            <div class="stat__sub" id="weeklyConsistencyMeta">Pesagens 0/3 ‚Ä¢ Aplica√ß√£o 0/1</div>
          </div>
          <div class="row">
            <div class="field" style="flex: 1; min-width: 180px; margin: 0;">
              <label class="label" for="weeklyConsistencyWeek">Semana</label>
              <select id="weeklyConsistencyWeek" class="input" aria-label="Selecionar semana da consist√™ncia">
                <option value="0" selected>Semana atual</option>
                <option value="1">Semana passada</option>
              </select>
            </div>
          </div>
          <div class="pillset" aria-label="Streaks">
            <span class="pill" id="streakWeights">Streak pesagens: ‚Äî</span>
            <span class="pill" id="streakInjections">Streak aplica√ß√µes: ‚Äî</span>
          </div>
          <p class="muted" id="weeklyConsistencyHint">Baseado na agenda fixa (seg/qua/sex e s√°bado).</p>
        </article>

        <article class="card" aria-label="Evolu√ß√£o do peso">
          <div class="card__head">
            <h2 class="card__title">Evolu√ß√£o do Peso</h2>
            <div class="segmented" role="group" aria-label="Per√≠odo do gr√°fico">
              <button class="segmented__btn" type="button" id="weightChartRange30" data-range="30" aria-pressed="true">30d</button>
              <button class="segmented__btn" type="button" id="weightChartRange90" data-range="90" aria-pressed="false">90d</button>
            </div>
          </div>
          <p class="muted" id="weightChartMeta">Toque em um ponto para ver data e peso.</p>
          <div class="chart" aria-label="Gr√°fico de peso">
            <canvas id="weightChart" class="chart__canvas" width="320" height="180"></canvas>
            <div id="weightChartTooltip" class="chart__tooltip" hidden></div>
          </div>
        </article>

        <article class="card" aria-label="Resumo semanal">
          <div class="card__head">
            <h2 class="card__title">Resumo semanal</h2>
          </div>
          <p class="muted">Texto pronto para copiar e enviar. Sem orienta√ß√£o m√©dica.</p>
          <div class="field">
            <label class="label" for="weeklySummaryWeek">Semana</label>
            <select id="weeklySummaryWeek" class="input" aria-label="Selecionar semana do resumo">
              <option value="0" selected>Semana atual</option>
              <option value="1">Semana passada</option>
            </select>
          </div>
          <div class="row">
            <button class="btn btn--summary" type="button" data-action="generateWeeklySummary">Gerar resumo</button>
          </div>
          <textarea id="weeklySummaryText" class="input" rows="10" readonly placeholder="Toque em ‚ÄúGerar resumo‚Äù acima."></textarea>
          <div class="row">
            <button class="btn" type="button" data-action="copyWeeklySummary">Copiar</button>
            <button class="btn btn--secondary" type="button" data-action="shareWeeklySummary">Enviar</button>
            <button class="btn btn--secondary" type="button" data-action="openWeeklySummaryWhatsapp">WhatsApp</button>
          </div>
        </article>

        <article class="card" aria-label="Insights autom√°ticos">
          <h2 class="card__title">Insights da semana</h2>
          <p class="muted">Dicas autom√°ticas com base nos seus registros.</p>
          <div id="localInsightsList" class="list" role="list"></div>
        </article>

        <article class="card" aria-label="Pr√≥ximos 7 dias">
          <h2 class="card__title">Pr√≥ximos 7 dias</h2>
          <p class="muted">O que sua agenda pede (e o que j√° est√° feito).</p>
          <div id="checklistUpcomingList" class="list" role="list"></div>
        </article>

        <article class="card" aria-label="Linha do tempo">
          <h2 class="card__title">Linha do tempo</h2>
          <p class="muted">Aplica√ß√µes e pesos em ordem cronol√≥gica (mais recentes primeiro).</p>
          <div id="timelineList" class="list" role="list"></div>
        </article>
      </div>
    </section>

    <section id="viewInjections" class="view" aria-labelledby="hInjections" hidden>
      <div class="view__head">
        <h1 id="hInjections" class="view__title">Aplica√ß√µes</h1>
        <button class="btn" id="btnOpenInjectionForm" type="button" data-action="openInjectionForm">+ Nova</button>
      </div>

      <div class="card">
        <div class="field">
          <label class="label" for="injFilter">Filtro</label>
          <select id="injFilter" class="input">
            <option value="30">√öltimos 30 dias</option>
            <option value="90">√öltimos 90 dias</option>
            <option value="all">Tudo</option>
          </select>
        </div>
        <div id="injectionList" class="list" role="list"></div>
      </div>
    </section>

    <section id="viewBody" class="view" aria-labelledby="hBody" hidden>
      <div class="view__head">
        <h1 id="hBody" class="view__title">Peso & Medidas</h1>
      </div>

      <div class="grid grid--2">
        <article class="card" aria-label="Peso">
          <div class="card__head">
            <h2 class="card__title">Peso</h2>
            <button class="btn" id="btnOpenWeightForm" type="button" data-action="openWeightForm">+ Peso</button>
          </div>
          <div id="weightList" class="list" role="list"></div>
        </article>

        <article class="card" aria-label="Medidas">
          <div class="card__head">
            <h2 class="card__title">Medidas</h2>
            <button class="btn" id="btnOpenMeasuresForm" type="button" data-action="openMeasuresForm">+ Medidas</button>
          </div>
          <div id="measuresCompare" class="compare" aria-live="polite"></div>
          <div id="measuresList" class="list" role="list"></div>
        </article>
      </div>
    </section>

    <section id="viewInsights" class="view" aria-labelledby="hInsights" hidden>
      <div class="view__head">
        <h1 id="hInsights" class="view__title">Insights IA</h1>
      </div>

      <div class="card">
        <p class="muted">
          A IA aqui avalia seus dados reais (medicamento, aplica√ß√µes, pesos e medidas) para identificar padr√µes e h√°bitos. <strong>N√£o inventa dados</strong> e n√£o prescreve dose ou tratamento m√©dico.
        </p>
        
        <div class="field">
          <label class="label" for="insightsRange">Per√≠odo para an√°lise</label>
          <select id="insightsRange" class="input" aria-label="Per√≠odo para an√°lise">
            <option value="30" selected>30 dias</option>
            <option value="90">90 dias</option>
            <option value="180">180 dias</option>
          </select>
        </div>
        
        
        <div id="insightsStatus" class="status" aria-live="polite"></div>
        <div id="insightsSummaryMeta" class="banner banner--info" hidden aria-live="polite"></div>
        
        <div class="field">
          <label class="label" for="insightsSummaryText">An√°lise dos seus dados</label>
          <textarea id="insightsSummaryText" class="input" rows="15" readonly placeholder="Carregando an√°lise autom√°tica..."></textarea>
        </div>
        
        <div class="row">
          <button class="btn" type="button" data-action="shareInsightsSummaryWhatsapp">üì± Enviar para WhatsApp</button>
        </div>
        
        <div id="insightsCards" class="cards"></div>
      </div>
    </section>

    <section id="viewReport" class="view" aria-labelledby="hReport" hidden>
      <div class="view__head">
        <h1 id="hReport" class="view__title">Relat√≥rio M√©dico</h1>
      </div>

      <div class="card">
        <div class="grid grid--2">
          <div class="field">
            <label class="label" for="reportRange">Per√≠odo</label>
            <select id="reportRange" class="input">
              <option value="30">√öltimos 30 dias</option>
              <option value="90">√öltimos 90 dias</option>
              <option value="180">√öltimos 180 dias</option>
            </select>
          </div>
          <div class="field">
            <label class="label" for="reportPatientName">Paciente (informativo)</label>
            <input id="reportPatientName" class="input" type="text" placeholder="Nome (opcional)" />
          </div>
        </div>

        <div class="row">
          <button class="btn" type="button" data-action="refreshReportPreview">Visualizar relat√≥rio</button>
          <button class="btn btn--secondary" type="button" data-action="exportReportPdf">Compartilhar/PDF</button>
          <button class="btn btn--secondary" type="button" data-action="exportClinicalCsv">Exportar CSV</button>
        </div>

        <p class="muted">Visualize primeiro abaixo, depois compartilhe por WhatsApp/email ou salve como PDF.</p>
        <div id="reportPreview" class="reportPreview" aria-live="polite"></div>
      </div>
    </section>

    <section id="viewSettings" class="view" aria-labelledby="hSettings" hidden>
      <div class="view__head">
        <h1 id="hSettings" class="view__title">Configura√ß√µes</h1>
      </div>

      <div class="grid grid--2">
        <article class="card" aria-label="Dados do paciente">
          <h2 class="card__title">Paciente (opcional)</h2>
          <div class="field">
            <label class="label" for="settingsPatientName">Nome</label>
            <input id="settingsPatientName" class="input" type="text" placeholder="Ex.: Breno" />
          </div>
          <div class="field">
            <label class="label" for="settingsPatientBirthDate">Data de nascimento</label>
            <input id="settingsPatientBirthDate" class="input" type="date" />
            <div class="hint">Usado para mostrar idade nos resumos/relat√≥rios (pode deixar em branco).</div>
          </div>
          <div class="field">
            <label class="label" for="settingsPatientBirthYear">Ano de nascimento (opcional)</label>
            <input id="settingsPatientBirthYear" class="input" type="number" min="1900" max="2100" step="1" inputmode="numeric" placeholder="Ex.: 1995" />
            <div class="hint">Compatibilidade: se voc√™ preencher a data, o app usa ela como refer√™ncia.</div>
          </div>
          <div class="field">
            <label class="label" for="settingsPreferredReportRange">Per√≠odo padr√£o do relat√≥rio</label>
            <select id="settingsPreferredReportRange" class="input">
              <option value="30">30 dias</option>
              <option value="90">90 dias</option>
              <option value="180">180 dias</option>
            </select>
          </div>
        </article>

        <article class="card" aria-label="Refer√™ncia do medicamento">
          <h2 class="card__title">Refer√™ncia oficial do medicamento</h2>
          <p class="muted">Cole aqui a bula ou rotulagem oficial para a IA usar como base.</p>
          <div class="field">
            <label class="label" for="settingsMedRefUrl">Link oficial (ANVISA/FDA/EMA etc.)</label>
            <input id="settingsMedRefUrl" class="input" type="url" placeholder="https://..." />
          </div>
          <div class="field">
            <label class="label" for="settingsMedOfficialText">Trecho oficial (cole aqui)</label>
            <textarea id="settingsMedOfficialText" class="input" rows="6" placeholder="Cole aqui trechos relevantes (posologia, intervalo, contraindica√ß√µes, alertas)."></textarea>
            <div class="hint">Dica: cole s√≥ o necess√°rio (o app pode resumir e enviar para a IA).</div>
          </div>
          <div class="row">
            <button class="btn btn--secondary" type="button" data-action="openMedRefUrl">Abrir link</button>
          </div>
        </article>

        <article class="card" aria-label="Agenda fixa">
          <h2 class="card__title">Agenda fixa</h2>
          <div class="grid grid--2">
            <div class="field">
              <label class="label" for="settingsInjectionDow">Dia da aplica√ß√£o</label>
              <select id="settingsInjectionDow" class="input">
                <option value="0">Domingo</option>
                <option value="1">Segunda</option>
                <option value="2">Ter√ßa</option>
                <option value="3">Quarta</option>
                <option value="4">Quinta</option>
                <option value="5">Sexta</option>
                <option value="6">S√°bado</option>
              </select>
            </div>
            <div class="field">
              <label class="label" for="settingsInjectionTime">Hora da aplica√ß√£o</label>
              <input id="settingsInjectionTime" class="input" type="time" />
            </div>
          </div>

          <div class="field">
            <label class="label">Dias de pesagem</label>
            <div class="row" aria-label="Dias de pesagem (0=Dom ... 6=S√°b)">
              <label class="chip"><input type="checkbox" id="weighDow1" /> Seg</label>
              <label class="chip"><input type="checkbox" id="weighDow3" /> Qua</label>
              <label class="chip"><input type="checkbox" id="weighDow5" /> Sex</label>
            </div>
            <div class="hint">Recomendado: seg/qua/sex pela manh√£.</div>
          </div>

          <div class="field">
            <label class="label" for="settingsMeasureEvery">Medidas: intervalo (dias)</label>
            <input id="settingsMeasureEvery" class="input" type="number" min="7" step="1" inputmode="numeric" />
          </div>
        </article>

        <article class="card" aria-label="Rod√≠zio">
          <h2 class="card__title">Rod√≠zio de local</h2>
          <div class="field">
            <label class="label" for="settingsEnableArmSites">Incluir bra√ßos no rod√≠zio</label>
            <select id="settingsEnableArmSites" class="input">
              <option value="false">N√£o (padr√£o)</option>
              <option value="true">Sim</option>
            </select>
            <div class="hint">Se desativado, o rod√≠zio usa apenas abd√¥men/coxa.</div>
          </div>
        </article>

        <article class="card" aria-label="Salvar configura√ß√µes">
          <h2 class="card__title">Salvar altera√ß√µes</h2>
          <p class="muted">Tudo fica salvo localmente no seu aparelho.</p>
          <div class="row">
            <button class="btn" type="button" data-action="saveSettings">Salvar</button>
          </div>
        </article>
      </div>
    </section>
  </main>

  <!-- Dialog: Menu / Config / Export / Backup -->
  <dialog id="menuDialog" class="dialog" aria-labelledby="menuTitle">
    <form method="dialog" class="dialog__content">
      <div class="dialog__head">
        <h2 id="menuTitle">Menu</h2>
        <button class="btn btn--ghost" value="cancel" aria-label="Fechar">Fechar</button>
      </div>

      <div class="dialog__body">
        <section class="card">
          <h3 class="card__title">Lembrete semanal</h3>
          <p class="muted">Aviso visual no app (sem notifica√ß√£o push).</p>

          <div class="grid grid--2">
            <div class="field">
              <label class="label" for="reminderDow">Dia da semana</label>
              <select id="reminderDow" class="input">
                <option value="">(n√£o configurar)</option>
                <option value="0">Domingo</option>
                <option value="1">Segunda</option>
                <option value="2">Ter√ßa</option>
                <option value="3">Quarta</option>
                <option value="4">Quinta</option>
                <option value="5">Sexta</option>
                <option value="6">S√°bado</option>
              </select>
            </div>
            <div class="field">
              <label class="label" for="reminderTime">Hora</label>
              <input id="reminderTime" class="input" type="time" />
            </div>
          </div>
          <div class="row">
            <button class="btn" type="button" data-action="saveSettings">Salvar lembrete</button>
          </div>
        </section>

        <section class="card">
          <h3 class="card__title">Agenda fixa</h3>
          <p class="muted">Configura seu checklist e alertas autom√°ticos.</p>

          <div class="grid grid--2">
            <div class="field">
              <label class="label" for="scheduleInjectionTime">Hor√°rio da aplica√ß√£o (s√°bado)</label>
              <input id="scheduleInjectionTime" class="input" type="time" />
            </div>
            <div class="field">
              <label class="label" for="scheduleMeasureEvery">Medidas: intervalo (dias)</label>
              <input id="scheduleMeasureEvery" class="input" type="number" min="7" step="1" inputmode="numeric" />
            </div>
          </div>

          <div class="field">
            <div class="hint">Pesagem (fixo): segunda/quarta/sexta de manh√£. Aplica√ß√£o (fixo): s√°bado.</div>
          </div>

          <div class="row">
            <button class="btn" type="button" data-action="saveSettings">Salvar agenda</button>
          </div>
        </section>

        <section class="card">
          <h3 class="card__title">Exporta√ß√£o</h3>
          <div class="row">
            <button class="btn btn--secondary" type="button" data-action="exportJson">Exportar JSON</button>
            <button class="btn btn--secondary" type="button" data-action="exportCsv">Exportar CSV</button>
            <button class="btn btn--secondary" type="button" data-action="exportClinicalCsv">CSV cl√≠nico (1 arquivo)</button>
          </div>
        </section>

        <section class="card">
          <h3 class="card__title">Backup e restaura√ß√£o</h3>
          <p class="muted">Baixe ou restaure todos os seus dados.</p>
          <div class="row">
            <button class="btn btn--secondary" type="button" data-action="downloadBackup">Baixar backup</button>
            <label class="btn btn--secondary" for="restoreFile">Restaurar backup</label>
            <input id="restoreFile" type="file" accept="application/json" hidden />
          </div>
        </section>

        <section class="card">
          <h3 class="card__title">Manuten√ß√£o</h3>
          <div class="row">
            <button class="btn btn--danger" type="button" data-action="wipeAll">Apagar tudo</button>
          </div>
        </section>
      </div>
    </form>
  </dialog>

  <!-- Dialog: Injection Form -->
  <dialog id="injDialog" class="dialog" aria-labelledby="injTitle">
    <form class="dialog__content" id="injForm">
      <div class="dialog__head">
        <h2 id="injTitle">Registrar aplica√ß√£o</h2>
        <button class="btn btn--ghost" type="button" data-action="closeInjDialog" aria-label="Fechar">Fechar</button>
      </div>

      <div class="dialog__body">
        <input type="hidden" id="injId" />

        <div class="field">
          <label class="label" for="injDateTime">Data e hora</label>
          <input id="injDateTime" class="input" type="datetime-local" required />
        </div>

        <div class="grid grid--2">
          <div class="field">
            <label class="label" for="injMedName">Medicamento</label>
            <input id="injMedName" class="input" type="text" value="Retatrutida" required />
          </div>
          <div class="field">
            <label class="label" for="injDose">Dose (mg)</label>
            <input id="injDose" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 2,5" required />
          </div>
        </div>

        <div class="field">
          <label class="label" for="injSite">Local (sugerido automaticamente)</label>
          <select id="injSite" class="input" required>
            <option value="abdomen_right">Abd√¥men (direito)</option>
            <option value="abdomen_left">Abd√¥men (esquerdo)</option>
            <option value="thigh_right">Coxa (direita)</option>
            <option value="thigh_left">Coxa (esquerda)</option>
            <option value="arm_right">Bra√ßo (direito)</option>
            <option value="arm_left">Bra√ßo (esquerdo)</option>
          </select>
          <div class="hint" id="injSiteHint">Dica: alternar lados ajuda a manter um rod√≠zio simples.</div>
        </div>

        <fieldset class="fieldset">
          <legend>Sintomas (0 a 10)</legend>
          <div class="grid grid--2">
            <div class="field">
              <label class="label" for="symNausea">Enjoo</label>
              <input id="symNausea" class="input" type="range" min="0" max="10" value="0" />
              <div class="rangeValue" id="symNauseaVal">0</div>
            </div>
            <div class="field">
              <label class="label" for="symReflux">Azia</label>
              <input id="symReflux" class="input" type="range" min="0" max="10" value="0" />
              <div class="rangeValue" id="symRefluxVal">0</div>
            </div>
            <div class="field">
              <label class="label" for="symAppetite">Apetite</label>
              <input id="symAppetite" class="input" type="range" min="0" max="10" value="0" />
              <div class="rangeValue" id="symAppetiteVal">0</div>
            </div>
            <div class="field">
              <label class="label" for="symEnergy">Energia</label>
              <input id="symEnergy" class="input" type="range" min="0" max="10" value="0" />
              <div class="rangeValue" id="symEnergyVal">0</div>
            </div>
            <div class="field">
              <label class="label" for="symBowel">Intestino</label>
              <input id="symBowel" class="input" type="range" min="0" max="10" value="0" />
              <div class="rangeValue" id="symBowelVal">0</div>
            </div>
          </div>
        </fieldset>

        <div class="field">
          <label class="label" for="injNotes">Observa√ß√£o</label>
          <textarea id="injNotes" class="input" rows="3" placeholder="Ex.: dormi mal, comi tarde, viajei‚Ä¶"></textarea>
        </div>

        <div class="row">
          <button class="btn" type="submit">Salvar</button>
          <button class="btn btn--secondary" type="button" data-action="clearInjForm">Limpar</button>
        </div>
      </div>
    </form>
  </dialog>

  <!-- Dialog: Weight Form -->
  <dialog id="wDialog" class="dialog" aria-labelledby="wTitle">
    <form class="dialog__content" id="wForm">
      <div class="dialog__head">
        <h2 id="wTitle">Registrar peso</h2>
        <button class="btn btn--ghost" type="button" data-action="closeWDialog" aria-label="Fechar">Fechar</button>
      </div>

      <div class="dialog__body">
        <input type="hidden" id="wId" />

        <div class="field">
          <label class="label" for="wDateTime">Data e hora</label>
          <input id="wDateTime" class="input" type="datetime-local" required />
        </div>

        <div class="grid grid--2">
          <div class="field">
            <label class="label" for="wKg">Peso (kg)</label>
            <input id="wKg" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 82,5" required />
          </div>
          <div class="field">
            <label class="label" for="wFasting">Jejum</label>
            <select id="wFasting" class="input">
              <option value="true">Sim</option>
              <option value="false">N√£o</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label class="label" for="wNotes">Observa√ß√£o</label>
          <textarea id="wNotes" class="input" rows="3" placeholder="Ex.: ap√≥s treino, reten√ß√£o, etc."></textarea>
        </div>

        <div class="row">
          <button class="btn" type="submit">Salvar</button>
          <button class="btn btn--secondary" type="button" data-action="clearWForm">Limpar</button>
        </div>
      </div>
    </form>
  </dialog>

  <!-- Dialog: Measures Form -->
  <dialog id="mDialog" class="dialog" aria-labelledby="mTitle">
    <form class="dialog__content" id="mForm">
      <div class="dialog__head">
        <h2 id="mTitle">Registrar medidas</h2>
        <button class="btn btn--ghost" type="button" data-action="closeMDialog" aria-label="Fechar">Fechar</button>
      </div>

      <div class="dialog__body">
        <input type="hidden" id="mId" />

        <div class="field">
          <label class="label" for="mDate">Data</label>
          <input id="mDate" class="input" type="date" required />
        </div>

        <fieldset class="fieldset fieldset--silhouette">
          <legend>Medidas principais</legend>
          <div class="silhouette-bg" aria-hidden="true"></div>
          <div class="measure-markers" aria-hidden="true">
            <span class="measure-marker marker--neck">Pesco√ßo</span>
            <span class="measure-marker marker--waist">Cintura</span>
            <span class="measure-marker marker--hip">Quadril</span>
          </div>
          <div class="grid grid--2">
            <div class="field">
              <label class="label" for="mNeck">Pesco√ßo ‚Ä¢ cm</label>
              <input id="mNeck" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 39,5" />
              <div class="hint">Refer√™ncia: fita reta, logo abaixo do pomo de Ad√£o.</div>
            </div>

            <div class="field">
              <label class="label" for="mWaist">Cintura (altura do umbigo) ‚Ä¢ cm</label>
              <input id="mWaist" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 95,5" />
              <div class="hint">Refer√™ncia: fita paralela ao ch√£o, sem apertar.</div>
            </div>

            <div class="field">
              <label class="label" for="mHip">Quadril (refer√™ncia) ‚Ä¢ cm</label>
              <input id="mHip" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 102,0" />
              <div class="hint">Refer√™ncia: maior circunfer√™ncia do bumbum, p√©s juntos.</div>
            </div>
          </div>
        </fieldset>

        <fieldset class="fieldset" hidden>
          <legend>Outras medidas (opcionais)</legend>
          <div class="grid grid--2">
            <div class="field"><label class="label" for="mArmL">Bra√ßo esq (cm)</label><input id="mArmL" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 33,5" /></div>
            <div class="field"><label class="label" for="mArmR">Bra√ßo dir (cm)</label><input id="mArmR" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 33,0" /></div>
            <div class="field"><label class="label" for="mThigh">Coxa (cm)</label><input id="mThigh" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 58,2" /></div>
            <div class="field"><label class="label" for="mCalf">Panturrilha (cm)</label><input id="mCalf" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 39,0" /></div>
            <div class="field"><label class="label" for="mChest">Peito (cm)</label><input id="mChest" class="input" type="text" inputmode="decimal" pattern="^[0-9]+([\.,][0-9]+)?$" placeholder="Ex.: 98,0" /></div>
          </div>
        </fieldset>

        <div class="field">
          <label class="label" for="mNotes">Observa√ß√£o</label>
          <textarea id="mNotes" class="input" rows="3" placeholder="Ex.: fita no umbigo, ao acordar, etc."></textarea>
        </div>

        <div class="row">
          <button class="btn" type="submit">Salvar</button>
          <button class="btn btn--secondary" type="button" data-action="clearMForm">Limpar</button>
        </div>
      </div>
    </form>
  </dialog>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" hidden></div>

  <script src="./app.js" defer></script>
</body>
</html>
